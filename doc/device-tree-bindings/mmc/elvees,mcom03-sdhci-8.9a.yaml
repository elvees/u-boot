# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
# Copyright 2024 RnD Center "ELVEES", JSC
%YAML 1.2
---
$id: http://devicetree.org/schemas/mmc/elvees,mcom03-sdhci-8.9a.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: Device Tree Bindings for the Arasan SDHCI Controller

properties:
  compatible:
    enum:
      - elvees,mcom03-sdhci-8.9a

  reg:
    maxItems: 1

  clocks:
    items:
      - description: XIN clock
      - description: Bus clock

  resets:
    maxItems: 1

  assigned-clocks: true
  assigned-clock-rates: true
  sdhci-caps-mask: true
  sdhci-caps: true
  bus-width: true
  max-frequency: true
  non-removable: true

patternProperties:
  'clk-phase-*':
    description:
      For ELVEES MCom-03 these are raw tap delays for specific timing mode.

required:
  - compatible
  - reg
  - clocks
  - resets

additionalProperties: false

examples:
  - |
    sdhci0: sdhci0@10220000 {
    	compatible = "elvees,mcom03-sdhci-8.9a";
    	reg = <0 0x10220000 0 0x10000>;
    	clocks = <&clock CLK_HSP_UCG1_SDMMC0_XIN>,
    		 <&clock CLK_HSP_UCG0_SDMMC0>;
    	assigned-clocks = <&clock CLK_HSP_UCG0_SDMMC0>,
    			  <&clock CLK_HSP_UCG1_SDMMC0_XIN>;
    	assigned-clock-rates = <93750000
    				125000000>;
    	resets = <&hsperiph_reset HSPERIPH_RST_SDMMC0>;
    	clk-phase-legacy = <0>, <15>;
    	clk-phase-mmc-hs = <0>, <15>;
    	clk-phase-sd-hs = <0>, <15>;
    	clk-phase-uhs-sdr12 = <0>, <15>;
    	clk-phase-uhs-sdr25 = <0>, <15>;
    	clk-phase-uhs-sdr50 = <0>, <15>;
    	clk-phase-uhs-sdr104 = <0>, <8>;
    	clk-phase-uhs-ddr50 = <0>, <8>;
    	clk-phase-mmc-ddr52 = <0>, <8>;
    	clk-phase-mmc-hs200 = <0>, <8>;
    };
