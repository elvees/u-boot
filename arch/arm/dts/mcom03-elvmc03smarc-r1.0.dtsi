// SPDX-License-Identifier: GPL-2.0+
/*
 * Copyright 2021 RnD Center "ELVEES", JSC
 */

/dts-v1/;

#include <dt-bindings/net/ti-dp83867.h>

#include "mcom03.dtsi"

/ {
	model = "ELV-MC03-SMARC r1.0";
	compatible = "elvees,elvmc03smarc-r1.0",
		     "elvees,elvmc03smarc",
		     "elvees,mcom03";
};

&emac0 {
	phy-mode = "rgmii";
	phy-handle = <&ethernet_phy0>;
	clocks = <&eth_bus_clk>;
	phy-reset-gpios = <&gpio0d 6 GPIO_ACTIVE_LOW>;
	elvees,pads-1v8-en;

	ethernet_phy0: ethernet-phy@0 {
		reg = <0x4>;
		ti,rx-internal-delay = <DP83867_RGMIIDCTL_2_00_NS>;
		ti,tx-internal-delay = <DP83867_RGMIIDCTL_2_00_NS>;
		ti,fifo-depth = <DP83867_PHYCR_FIFO_DEPTH_4_B_NIB>;
	};
};

&emac1 {
	phy-mode = "rgmii";
	phy-handle = <&ethernet_phy1>;
	clocks = <&eth_bus_clk>;
	phy-reset-gpios = <&gpio0c 7 GPIO_ACTIVE_LOW>;
	elvees,pads-1v8-en;

	ethernet_phy1: ethernet-phy@5 {
		reg = <0x5>;
		ti,rx-internal-delay = <DP83867_RGMIIDCTL_2_50_NS>;
		ti,tx-internal-delay = <DP83867_RGMIIDCTL_2_50_NS>;
		ti,fifo-depth = <DP83867_PHYCR_FIFO_DEPTH_4_B_NIB>;
	};
};
